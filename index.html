<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dream Car Access â€” Get Approved</title>
  <meta name="description" content="Dream Car Access â€” Fast approvals, $0 down options, flexible payments. Apply in minutes." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --brand:#0ea5e9; --brand-dark:#0369a1; --ink:#0f172a; --muted:#94a3b8;
      --bg:#0b1020; --line:rgba(255,255,255,0.14); --ok:#22c55e; --warn:#f59e0b; --err:#ef4444;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color:#f8fafc;
      background: radial-gradient(1200px 600px at 10% 10%, #10203a 0%, #0b1020 45%, #070b16 100%);
      overflow-x:hidden;
    }
    a{color:#7dd3fc}
    .wrap{width:min(1100px,92%); margin:0 auto}

    /* HERO */
    .hero{
      position:relative; min-height:64vh; display:grid; place-items:center; padding:64px 20px 32px;
      border-bottom:1px solid var(--line);
      background:
        linear-gradient(180deg, rgba(0,0,0,0.40), rgba(11,16,32,0.94)),
        url('https://images.unsplash.com/photo-1550355291-bbee04a92027?q=80&w=2000&auto=format&fit=crop');
      background-size:cover; background-position:center;
      text-align:center;
    }
    .brand-badge{display:inline-flex; gap:10px; align-items:center; padding:8px 14px; border-radius:999px;
      background:linear-gradient(90deg, var(--brand), var(--brand-dark)); box-shadow:0 8px 24px rgba(14,165,233,.35); font-weight:800}
    h1{font-size:clamp(32px,4vw,56px); line-height:1.05; margin:18px 0 12px; text-shadow:0 6px 30px rgba(0,0,0,.45)}
    .lead{font-size:clamp(16px,2.1vw,20px); color:#e2e8f0; max-width:820px; margin:0 auto}
    .ribbons{display:flex; flex-wrap:wrap; gap:10px; margin-top:18px; justify-content:center}
    .chip{padding:9px 12px; border-radius:10px; background:rgba(255,255,255,0.08); backdrop-filter: blur(6px); border:1px solid var(--line); font-weight:600}

    /* WIZARD GRID */
    .grid{display:grid; grid-template-columns:1.1fr .9fr; gap:28px; margin-top:-80px}
    @media(max-width:980px){.grid{grid-template-columns:1fr; margin-top:20px}}

    /* CARD */
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.06)); border:1px solid var(--line);
      border-radius:18px; padding:20px; box-shadow:0 10px 34px rgba(0,0,0,0.35)}
    .card h2{margin:0 0 6px; font-size:24px}
    .sub{color:var(--muted); margin:0 0 16px}

    /* Inputs */
    label{font-size:13px; color:#cbd5e1; margin-bottom:6px; display:block}
    input, select, textarea{width:100%; padding:12px; border-radius:12px; border:1px solid var(--line);
      background:rgba(255,255,255,0.06); color:#fff; outline:none; transition:.2s border-color, .2s background;}
    input:focus, select:focus, textarea:focus{border-color:var(--brand); background:rgba(255,255,255,0.1)}
    textarea{min-height:110px; resize:vertical}
    .row{display:grid; grid-template-columns:1fr 1fr; gap:12px}
    @media(max-width:680px){.row{grid-template-columns:1fr}}

    /* Wizard */
    .steps{display:flex; gap:8px; margin:8px 0 16px; flex-wrap:wrap}
    .step-pill{padding:6px 10px; border-radius:999px; border:1px solid var(--line); font-size:12px; opacity:.7}
    .step-pill.active{background:linear-gradient(90deg, var(--brand), var(--brand-dark)); opacity:1}
    .hidden{display:none !important}
    .controls{display:flex; gap:12px; flex-wrap:wrap; align-items:center; margin-top:14px}
    .btn{border:none; cursor:pointer; padding:12px 16px; border-radius:12px; font-weight:800; letter-spacing:.2px;
      background:linear-gradient(90deg, var(--brand), var(--brand-dark)); color:#fff; box-shadow:0 10px 24px rgba(14,165,233,.35);
      text-decoration:none; text-align:center}
    .btn.outline{background:transparent; border:1px solid var(--line)}
    .note{font-size:12px; color:#cbd5e1}
    .ok{color:#22c55e; font-weight:700}
    .error{color:#ef4444; font-size:13px; margin-top:6px}

    /* Gallery / Trust */
    .gallery{display:grid; grid-template-columns:repeat(3, 1fr); gap:12px; margin-top:8px}
    .shot{position:relative; min-height:180px; border-radius:16px; overflow:hidden; border:1px solid var(--line)}
    .shot:before{content:""; position:absolute; inset:0; background:linear-gradient(180deg, rgba(0,0,0,.08), rgba(0,0,0,.45))}
    .shot--a{background:url('https://images.unsplash.com/photo-1549924231-f129b911e442?q=80&w=1400&auto=format&fit=crop') center/cover}
    .shot--b{background:url('https://images.unsplash.com/photo-1533473359331-0135ef1b58bf?q=80&w=1400&auto=format&fit=crop') center/cover}
    .shot--c{background:url('https://images.unsplash.com/photo-1542282088-fe8426682b8f?q=80&w=1400&auto=format&fit=crop') center/cover}

    /* Footer + Floating Contact */
    footer{padding:28px 0 64px; color:#cbd5e1; text-align:center}
    .small{font-size:12px; color:#94a3b8}
    .float-contact{position:fixed; right:14px; bottom:14px; display:flex; gap:8px; z-index:50}
    .fab{display:inline-flex; align-items:center; gap:8px; padding:12px 14px; border-radius:999px; text-decoration:none; color:#fff;
      box-shadow:0 10px 24px rgba(0,0,0,.35)}
    .fab.wa{background:linear-gradient(90deg, #22c55e, #16a34a)}
    .fab.call{background:linear-gradient(90deg, #f59e0b, #d97706)}

    /* Thank You View */
    .ty-hero{
      min-height:70vh; display:grid; place-items:center; text-align:center; padding:64px 20px;
      background:
        linear-gradient(180deg, rgba(0,0,0,0.35), rgba(11,16,32,0.92)),
        url('https://images.unsplash.com/photo-1515922071755-9e2a5a6bb948?q=80&w=2000&auto=format&fit=crop');
      background-size:cover; background-position:center;
      border-bottom:1px solid var(--line);
    }
    .ty-card{max-width:720px; margin:24px auto; background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.06)); padding:24px; border-radius:18px; border:1px solid var(--line)}
  </style>
</head>
<body>
  <header class="hero" id="topHero">
    <div class="wrap">
      <div class="brand-badge">ðŸš— D R E A MÂ Â C A RÂ Â A C C E S S</div>
      <h1>Keys in Days â€” <span style="color:#7dd3fc">Fast, Friendly</span> Approvals</h1>
      <p class="lead">$0 down options â€¢ Low biâ€‘weekly payments â€¢ Tradeâ€‘ins welcome. Tell us what you want â€” weâ€™ll match you quickly.</p>
      <div class="ribbons">
        <div class="chip">âœ… Credit Approved</div>
        <div class="chip">ðŸ§¾ Carfax & Inspection Ready</div>
        <div class="chip">ðŸšš Provinceâ€‘wide Delivery</div>
      </div>
    </div>
  </header>

  <main class="wrap" style="padding: 0 0 46px" id="formSection">
    <section class="grid">
      <!-- Wizard Form -->
      <div class="card">
        <h2>Tell Us What You Need</h2>
        <p class="sub">Answer a few quick questions. Takes about a minute.</p>

        <div class="steps" id="stepPills">
          <div class="step-pill active">1. Contact</div>
          <div class="step-pill">2. Car</div>
          <div class="step-pill">3. Budget</div>
          <div class="step-pill">4. Credit & Work</div>
          <div class="step-pill">5. Timing & Location</div>
          <div class="step-pill">6. Review</div>
        </div>

        <form id="leadForm" novalidate>
          <!-- Step 1: Contact -->
          <div class="step" data-step="1">
            <div class="row">
              <div>
                <label for="Name">Full Name *</label>
                <input id="Name" name="Name" placeholder="e.g., Karam Dhillon" required />
              </div>
              <div>
                <label for="Phone">Phone *</label>
                <input id="Phone" name="Phone" placeholder="604â€‘346â€‘8148" required />
              </div>
            </div>
            <div class="row">
              <div>
                <label for="Email">Email *</label>
                <input id="Email" name="Email" type="email" placeholder="you@example.com" required />
              </div>
              <div>
                <label for="PreferredContact">Preferred Contact</label>
                <select id="PreferredContact" name="PreferredContact">
                  <option value="">Selectâ€¦</option>
                  <option>WhatsApp</option>
                  <option>Phone</option>
                  <option>Email</option>
                </select>
              </div>
            </div>
          </div>

          <!-- Step 2: Car -->
          <div class="step hidden" data-step="2">
            <div class="row">
              <div>
                <label for="VehicleType">Vehicle Type *</label>
                <select id="VehicleType" name="VehicleType" required>
                  <option value="">Selectâ€¦</option>
                  <option>Sedan</option>
                  <option>SUV</option>
                  <option>Truck</option>
                  <option>Coupe</option>
                  <option>Hatchback</option>
                  <option>Van</option>
                  <option>Electric / Hybrid</option>
                </select>
              </div>
              <div>
                <label for="MakeModel">Make / Model (if known)</label>
                <input id="MakeModel" name="MakeModel" placeholder="e.g., Toyota Corolla / BMW 3 Series" />
              </div>
            </div>
            <div class="row">
              <div>
                <label for="YearRange">Year Range</label>
                <select id="YearRange" name="YearRange">
                  <option value="">Any</option>
                  <option>2016â€“2018</option>
                  <option>2019â€“2021</option>
                  <option>2022â€“2023</option>
                  <option>2024â€“2025</option>
                </select>
              </div>
              <div>
                <label for="MustHaves">Mustâ€‘Have Features</label>
                <input id="MustHaves" name="MustHaves" placeholder="AWD, sunroof, leather, CarPlayâ€¦" />
              </div>
            </div>
          </div>

          <!-- Step 3: Budget -->
          <div class="step hidden" data-step="3">
            <div class="row">
              <div>
                <label for="PaymentPlan">Payment Preference *</label>
                <select id="PaymentPlan" name="PaymentPlan" required>
                  <option value="">Selectâ€¦</option>
                  <option>Biâ€‘weekly</option>
                  <option>Monthly</option>
                  <option>Cash</option>
                </select>
              </div>
              <div>
                <label for="Budget">Target Payment *</label>
                <input id="Budget" name="Budget" placeholder="$250" required />
              </div>
            </div>
            <div class="row">
              <div>
                <label for="DownPayment">Down Payment</label>
                <input id="DownPayment" name="DownPayment" placeholder="$0" />
              </div>
              <div>
                <label for="TradeIn">Tradeâ€‘in Vehicle</label>
                <input id="TradeIn" name="TradeIn" placeholder="Year/Make/Model (if any)" />
              </div>
            </div>
          </div>

          <!-- Step 4: Credit & Work -->
          <div class="step hidden" data-step="4">
            <div class="row">
              <div>
                <label for="Credit">Credit Score Range *</label>
                <select id="Credit" name="Credit" required>
                  <option value="">Selectâ€¦</option>
                  <option>Excellent (750+)</option>
                  <option>Good (700â€“749)</option>
                  <option>Fair (650â€“699)</option>
                  <option>Building (600â€“649)</option>
                  <option>Challenged (&lt;600)</option>
                  <option>Prefer not to say</option>
                </select>
              </div>
              <div>
                <label for="Employment">Employment Status *</label>
                <select id="Employment" name="Employment" required>
                  <option value="">Selectâ€¦</option>
                  <option>Fullâ€‘time</option>
                  <option>Partâ€‘time</option>
                  <option>Selfâ€‘employed</option>
                  <option>Student</option>
                  <option>Other</option>
                </select>
              </div>
            </div>
            <div>
              <label for="MonthlyIncome">Approx. Monthly Income</label>
              <input id="MonthlyIncome" name="MonthlyIncome" placeholder="$4,000" />
            </div>
          </div>

          <!-- Step 5: Timing & Location -->
          <div class="step hidden" data-step="5">
            <div class="row">
              <div>
                <label for="PurchaseTimeline">When are you looking to buy? *</label>
                <select id="PurchaseTimeline" name="PurchaseTimeline" required>
                  <option value="">Selectâ€¦</option>
                  <option>ASAP (this week)</option>
                  <option>1â€“2 weeks</option>
                  <option>3â€“4 weeks</option>
                  <option>Next 1â€“3 months</option>
                </select>
              </div>
              <div>
                <label for="Location">City / Province *</label>
                <input id="Location" name="Location" placeholder="e.g., Surrey, BC" required />
              </div>
            </div>
            <div>
              <label for="Message">Anything else?</label>
              <textarea id="Message" name="Message" placeholder="Tell us about preferences or questions"></textarea>
            </div>
          </div>

          <!-- Step 6: Review & Consent -->
          <div class="step hidden" data-step="6">
            <div class="note" id="reviewBox">Please review your answers below.</div>
            <div style="margin:12px 0 0">
              <label class="note">
                <input type="checkbox" id="consent" required />
                <span>By submitting, I confirm my info is accurate and I authorize <strong>Dream Car Access</strong> and its lending partners to contact me by phone, text, or email. I also give consent to obtain and review my credit report for the purposes of arranging vehicle financing.</span>
              </label>
            </div>
          </div>

          <div id="formError" class="error"></div>
          <div id="status" class="note" style="margin-top:8px"></div>

          <div class="controls">
            <button type="button" class="btn outline" id="backBtn">Back</button>
            <button type="button" class="btn" id="nextBtn">Next</button>
            <button type="submit" class="btn hidden" id="submitBtn">Submit</button>

            <a class="btn" style="background:linear-gradient(90deg, #22c55e, #16a34a)" href="https://wa.me/16043468148?text=Hi%20Dream%20Car%20Access%2C%20I%27m%20interested%20in%20a%20car%20and%20just%20filled%20the%20form." target="_blank" rel="noopener">WhatsApp</a>
            <a class="btn" style="background:linear-gradient(90deg, #f59e0b, #d97706)" href="tel:+16043468148">Call 604â€‘346â€‘8148</a>
          </div>
        </form>
      </div>

      <!-- TRUST / Gallery -->
      <aside class="card">
        <h2 style="margin-top:0">Why Dream Car Access?</h2>
        <ul style="margin:0 0 16px 18px; color:#e2e8f0">
          <li>Large lender network to match your situation.</li>
          <li>Transparent offers with no hidden fees.</li>
          <li>Professionally inspected vehicles with Carfax available.</li>
          <li>Tradeâ€‘in and delivery options to make it easy.</li>
        </ul>
        <div class="gallery">
          <div class="shot shot--a"></div>
          <div class="shot shot--b"></div>
          <div class="shot shot--c"></div>
        </div>
      </aside>
    </section>
  </main>

  <!-- THANK YOU VIEW (hidden by default) -->
  <section id="thankYou" class="hidden">
    <div class="ty-hero">
      <div class="wrap">
        <div class="brand-badge">ðŸŽ‰ T H A N K Â Â Y O U</div>
        <h1>We received your application!</h1>
        <p class="lead">A specialist from <strong>Dream Car Access</strong> will contact you shortly to confirm details and show you matching vehicles.</p>
        <div class="ty-card">
          <p style="margin-top:0">Want to speed things up?</p>
          <p style="margin:8px 0 14px">
            <a class="btn" style="background:linear-gradient(90deg, #22c55e, #16a34a)" href="https://wa.me/16043468148?text=Hi%20Dream%20Car%20Access%2C%20I%27m%20interested%20in%20a%20car%20and%20just%20filled%20the%20form." target="_blank" rel="noopener">Message us on WhatsApp</a>
            <a class="btn" style="background:linear-gradient(90deg, #f59e0b, #d97706)" href="tel:+16043468148">Call 604â€‘346â€‘8148</a>
          </p>
          <p class="note">We also saved your details. Expect a fast response.</p>
          <p class="note">Tip: reply with your <em>mustâ€‘have features</em> to help us nail the match.</p>
        </div>
      </div>
    </div>
  </section>

  <footer>
    <div class="wrap">
      <p class="small">Â© <span id="y"></span> Dream Car Access. Privacyâ€‘first lead handling.</p>
    </div>
  </footer>

  <div class="float-contact">
    <a class="fab wa" href="https://wa.me/16043468148?text=Hi%20Dream%20Car%20Access%2C%20I%27m%20interested%20in%20a%20car%20and%20just%20filled%20the%20form." target="_blank" rel="noopener">ðŸ’¬ WhatsApp</a>
    <a class="fab call" href="tel:+16043468148">ðŸ“ž Call 604â€‘346â€‘8148</a>
  </div>

  <script>
    const WEB_APP_URL = "https://script.google.com/macros/s/AKfycbwDIeBpjSu4XFlMJSi_1VmJoCyluNQC5CC8t7E8JiBgdah7ETLw33t87vx_VPnW5eWkmA/exec";
    const form = document.getElementById('leadForm');
    const pills = document.getElementById('stepPills').children;
    const steps = Array.from(document.querySelectorAll('.step'));
    const backBtn = document.getElementById('backBtn');
    const nextBtn = document.getElementById('nextBtn');
    const submitBtn = document.getElementById('submitBtn');
    const statusEl = document.getElementById('status');
    const errorEl = document.getElementById('formError');
    const yearEl = document.getElementById('y');
    const formSection = document.getElementById('formSection');
    const topHero = document.getElementById('topHero');
    const thankYou = document.getElementById('thankYou');
    yearEl.textContent = new Date().getFullYear();

    let current = 1;

    function showStep(n) {
      steps.forEach(s => s.classList.add('hidden'));
      const target = steps.find(s => Number(s.dataset.step) === n);
      if (target) target.classList.remove('hidden');
      Array.from(pills).forEach((p, i) => p.classList.toggle('active', i === n-1));
      backBtn.style.display = n === 1 ? 'none' : 'inline-flex';
      nextBtn.classList.toggle('hidden', n === steps.length);
      submitBtn.classList.toggle('hidden', n !== steps.length);
      errorEl.textContent = '';
      statusEl.textContent = '';
      if (n === steps.length) buildReview();
      window.scrollTo({top:0, behavior:'smooth'});
    }
    function buildReview() {
      const data = Object.fromEntries(new FormData(form).entries());
      const keys = [
        'Name','Phone','Email','PreferredContact','VehicleType','MakeModel','YearRange','MustHaves',
        'PaymentPlan','Budget','DownPayment','TradeIn','Credit','Employment','MonthlyIncome',
        'PurchaseTimeline','Location','Message'
      ];
      const lines = keys.map(k => {
        const val = (data[k] || '').toString().replace(/</g,'&lt;').replace(/>/g,'&gt;');
        return `<div><strong>${k}:</strong> ${val ? val : '<em>â€”</em>'}</div>`;
      }).join('');
      document.getElementById('reviewBox').innerHTML = lines;
    }
    function validateStep(n) {
      const reqMap = {
        1: ['Name','Phone','Email'],
        2: ['VehicleType'],
        3: ['PaymentPlan','Budget'],
        4: ['Credit','Employment'],
        5: ['PurchaseTimeline','Location'],
        6: ['consent']
      };
      const fields = reqMap[n] || [];
      for (const id of fields) {
        const el = document.getElementById(id) || form.querySelector(`[name="${id}"]`);
        if (!el) continue;
        if (el.type === 'checkbox' && !el.checked) return `Please check consent to continue.`;
        if (!el.value) return `Please complete required field: ${id}`;
      }
      return '';
    }

    backBtn.addEventListener('click', () => { current = Math.max(1, current-1); showStep(current); });
    nextBtn.addEventListener('click', () => {
      const err = validateStep(current);
      if (err) { errorEl.textContent = err; return; }
      current = Math.min(steps.length, current+1);
      showStep(current);
    });

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      const err = validateStep(6);
      if (err) { errorEl.textContent = err; return; }

      const payload = Object.fromEntries(new FormData(form).entries());
      statusEl.textContent = 'Submittingâ€¦';
      errorEl.textContent = '';

      try {
        const res = await fetch(WEB_APP_URL + '?origin=' + encodeURIComponent(location.origin), {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(payload),
        });

        const txt = await res.text();
        let json = null;
        try { json = JSON.parse(txt); } catch(_){
          // Not JSON (auth or error HTML). Treat as failure.
        }

        if (json && json.ok) {
          form.reset();
          const consentEl = document.getElementById('consent');
          if (consentEl) consentEl.checked = false;
          document.getElementById('topHero').classList.add('hidden');
          document.getElementById('formSection').classList.add('hidden');
          document.getElementById('thankYou').classList.remove('hidden');
          window.scrollTo({top:0, behavior:'smooth'});
        } else {
          statusEl.textContent = '';
          errorEl.textContent = 'Submission error. Please try again or contact us via WhatsApp/Call below.';
          console.error('Response text:', txt);
        }
      } catch (err) {
        statusEl.textContent = '';
        errorEl.textContent = 'Network error. Please check your connection or try again.';
        console.error(err);
      }
    });

    // Init
    showStep(current);
  </script>
</body>
</html>
